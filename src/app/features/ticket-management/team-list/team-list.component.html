
<!-- src/app/features/ticket-management/team-list/team-list.component.html -->

<div class="rounded-lg bg-card px-8 py-8 shadow-custom">
  <h3 class="text-md font-bold text-foreground mb-4">Teams</h3>
  <div class="relative overflow-x-auto">
    <table class="w-full table-auto">
      <thead class="text-xs uppercase text-muted-foreground">
        <tr>
          <th class="py-3 text-left">Team ID</th>  
          <th class="py-3 text-left">Name</th>
          <th class="py-3 text-left">Lead</th>
          <th class="py-3 text-center">Members</th>
          <th class="py-3 text-right">Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (team of teams(); track team.id) {
          <tr class="border-b border-dashed border-border hover:bg-card">
            <td class="py-3 text-left dark:text-gray-400 text-gray-900">{{ team.id.slice(-8) }}</td>  
            <td class="py-3 text-left dark:text-gray-400 text-gray-900">{{ team.name | slice:0:25 }}{{ team.name.length > 25 ? '...' : '' }}</td> 
            <td class="py-3 text-left dark:text-gray-400 text-gray-900">{{ team.teamLeadName || 'N/A' }}</td>
            <td class="py-3 text-center dark:text-gray-400 text-gray-900">{{ team.memberCount ?? 0 }}</td>
            <td class="py-3 text-right flex justify-end gap-2 pr-4">
              <button (click)="viewTeam(team)" class="rounded-full bg-transparent p-1 hover:bg-info/10">
                <svg-icon [src]="getIconPath('eye')" svgClass="h-4 w-4"></svg-icon>
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
    <!-- Edit Form (Conditional) -->
    @if (editingTeam()) {
      <div class="mt-4">
        <app-team-edit [team]="editingTeam()!" (update)="onTeamUpdate($event)" (cancel)="editingTeam.set(null)"></app-team-edit>
      </div>
    }
  </div>
</div> 